{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="panel panel-default">
        <div class="panel-body">
            {{ super() }}
            <table style="width: 100%;">
                <tr><td style="text-align: center;">
                    <h3>Edit {{type}} "{{ this.titre|e }}" :</h3><br>
                </td></tr>
            </table>
            <form action="" role="form" method="post" class="form-horizontal">
                <table style="width: 100%;">
                    <tr><td style="text-align: right; width: 60%;">
                        <label class="control-label" for="title">{% if type in ['category', 'subcategory'] %}Name:{% else %}Title:{% endif %}</label>
                        <input type="text" name="title" value="{{ form.title|e }}" maxlength="100" placeholder={% if type in ['category', 'subcategory'] %}"Name"{% else %}"Title"{% endif %} {% if (type is equalto 'topic') and (session.permission < 8) %}readonly{% endif %}>
                        </td><td style="text-align: left;">
                        {% if errors.title %}
                        <p class="text-danger">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            <span class="sr-only">Error:</span>
                            {{errors.title}}
                        </p>
                        {% endif %}
                    </td></tr>
                    {% if type in ['topic', 'comment'] %}
                        <tr><td style="text-align: right;">
                            <label class="control-label" for="content">Content:</label>
                            <textarea  name="content" value="{{ form.content|e }}" placeholder="Text">{{ form.content|e }}</textarea>
                        </td><td style="text-align: left;">
                            {% if errors.content %}
                                <p class="text-danger">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    <span class="sr-only">Error:</span>
                                    {{errors.content}}
                                </p>
                            {% endif %}
                        </td></tr>
                    {% endif %}
                </table>
                <br>
    			<table style="width: 100%;"><tr><td style="text-align: center;">
                        <a href="{{ back }}" class="btn btn-info">
                            <span class="glyphicon glyphicon-fast-backward" aria-hidden="true"></span>&nbsp;Return
                        </a>

    					<a href="/delete?type={{ type }}&id={{ this.id }}" class="btn btn-danger">
                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;Delete
                        </a>

                        <button type="submit" class="btn btn-success">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;Edit
                        </button>
    				</td></tr>
                </table>
			</form>
		</div>
   </div>
</div>
{% endblock %}